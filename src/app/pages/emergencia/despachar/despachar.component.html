<div class="grid" style="min-height: calc(100vh - 9rem); position: relative">
  <div class="col-12 sm:col-0 md:col-9">
    <div
      style="width: auto; min-height: calc(100vh - 9rem); position: relative"
      class="surface-sections shadow-3 border-round border-round-left h-30rem sm:h-full d-flex justify-content-center align-items-center"
    >
      <div
        id="map"
        style="min-height: calc(100vh - 9rem); position: sticky; width: 100%"
        class="flex flex-column border-round-left h-30rem sm:h-full w-full"
      ></div>
    </div>
  </div>

  <div
    class="surface-section shadow-3 border-round col-12 sm:col-12 md:col-3 mt-3 mb-3"
  >
    <div class="mr-5 flex align-items-center m-2">
      <i
        class="fa-solid fa-house-fire mr-2 sm:text-sm md:text-base lg:text-lg"
      ></i>
      <span
        class="capitalize font-bold sm:text-sm md:text-base lg:text-lg"
      ></span>
      <strong
        class="mr-1 ml-1 font-bold sm:text-sm md:text-base lg:text-lg"
        style="color: red"
        >|</strong
      >
      <span class="capitalize sm:text-sm md:text-base lg:text-lg ml-2">
        Registrar Emergencia</span
      >
    </div>
    <p-divider></p-divider>
    <!--  -->
    <div class="formgrid grid text-left">
      <div class="field col-12">
        <strong class="sm:text-sm md:text-md lg:text-base ml-2 text-900"
          >Dirección</strong
        >
        <span class="flex flex-column mt-2 p-input-icon-left">
          <i class="fa-solid fa-route sm:text-sm md:text-md lg:text-base"></i>
          <input
            class="p-inputtext-sm sm:text-sm md:text-md lg:text-base font-medium text-900"
            type="text"
            pInputText
            placeholder="Ingrese la dirección"
            [(ngModel)]="despacho.direccion"
            disabled=" true"
          />
        </span>
        <p
          *ngIf="formSubmitted && !despacho.direccion"
          style="color: rgb(190, 31, 45)"
          class="text-sm text-start mt-2"
        >
          🔴 ​Campo obligatorio
        </p>

        <!-- <p
          *ngIf="formSubmitted && !despacho.direccion"
          style="color: rgb(190, 31, 45)"
          class="text-sm text-center mt-2"
        >
          La dirección es requerida
        </p> -->
      </div>
      <div class="field col-12">
        <strong class="sm:text-sm md:text-md lg:text-base ml-2 text-900"
          >Referencias</strong
        >
        <span class="flex flex-column mt-2 p-input-icon-left">
          <textarea
            rows="4"
            pInputText
            class="w-full col-12"
            tooltipPosition="bottom"
            placeholder="campo opcional"
            [(ngModel)]="despacho.referencia"
          ></textarea>
          <i class="pi pi-pencil sm:text-sm md:text-sm lg:text-base"></i>
        </span>
      </div>
      <div class="field col-12">
        <strong class="sm:text-sm md:text-md lg:text-base ml-2 text-900"
          >Tipo de emergencia</strong
        >
        <span class="flex flex-column mt-2 p-input-icon-left text-sm">
          <p-selectButton
            class="sm:text-sm md:text-md lg:text-base ml-2 text-900"
            *ngIf="listaCodigos"
            [options]="listaCodigos"
            [(ngModel)]="codigoPadreSeleccionado"
            optionLabel="descripcion"
            (onChange)="seleccionarCodigoPadre()"
          ></p-selectButton>
        </span>
        <p
          *ngIf="formSubmitted && !despacho.direccion"
          style="color: rgb(190, 31, 45)"
          class="text-sm text-start mt-2"
        >
          🔴 ​Campo obligatorio
        </p>
      </div>
      <div class="field col-12 flex flex-column">
        <strong class="sm:text-sm md:text-md lg:text-base ml-2 text-900"
          >Códigos de emergencia
        </strong>
        <div class="mt-2">
          <!-- <p-selectButton
              class="flex flex-column"
              *ngIf="listaCodigos"
              [options]="listaCodigos"
              [(ngModel)]="codigoPadreSeleccionado"
              optionLabel="descripcion"
              [ngClass]="'text-500'"
              (onChange)="seleccionarCodigoPadre()"
            ></p-selectButton> -->

          <span class="flex flex-column mt-2 p-input-icon-left">
            <p-selectButton
              class="flex flex-column"
              *ngIf="codigoPadreSeleccionado"
              [options]="hijosSeleccionadosPadre"
              [(ngModel)]="codigoHijoSeleccionado"
              optionLabel="codigo"
              (onChange)="seleccionarCodigoHijo()"
            ></p-selectButton>
          </span>
        </div>
      </div>
      <div class="field col-12 mt-2">
        <div
          class="flex align-items-center justify-content-evenly flex-wrap gap-2"
        >
          <div class="flex gap-2">
            <p-button
              icon="fa-solid fa-rotate-right"
              [loading]="loadingLimpiarFormulario"
              (click)="btnLimpiarFormulario()"
              styleClass="p-button-warning p-button-sm p-button-rounded p-button-outline"
            ></p-button>
            <p-button
              icon="fa-solid fa-list-check"
              [loading]="loadingListarEmergencias"
              (click)="btnListarEmergencias()"
              styleClass="p-button-secondary p-button-sm p-button-rounded p-button-outline"
            ></p-button>
          </div>
          <p-button
            class="flex flex-column text-normal"
            label="Enviar"
            icon="fa-solid fa-paper-plane"
            styleClass="p-button-info p-button-sm p-button-rounded p-button-raised"
            (click)="btn_registrar()"
            [loading]="loadingRegistrarEmergencia"
          ></p-button>
        </div>
      </div>
    </div>
  </div>
</div>
